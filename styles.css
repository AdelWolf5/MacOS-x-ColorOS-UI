/* Style moderne glassmorphism inspir√© MacOS/ColorOS */
:root{
  --bg-light: linear-gradient(135deg,#f6d365,#fda085);
  --bg-dark: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  --glass-light: rgba(255,255,255,0.35);
  --glass-dark: rgba(0,0,0,0.35);
  --text-light:#222;
  --text-dark:#f5f5f5;
  --accent:#0a84ff;
}

body{
  margin:0; font-family:sans-serif; min-height:100vh;
  display:flex; justify-content:center; align-items:center;
  background:var(--bg-light); color:var(--text-light);
}
body.dark{background:var(--bg-dark); color:var(--text-dark);}

#wallpaper{position:fixed; inset:0; z-index:-1; background:inherit;}

#dock{
  position:fixed; bottom:1rem; left:50%; transform:translateX(-50%);
  display:flex; gap:1rem; padding:.6rem 1rem; border-radius:25px;
  background:var(--glass-light); backdrop-filter:blur(10px) saturate(150%);
  box-shadow:0 8px 20px rgba(0,0,0,0.25); z-index:5;
}
body.dark #dock{background:var(--glass-dark);}
.dock-item{
  width:50px; height:50px; border-radius:50%; border:none;
  background:var(--glass-light); color:inherit; font-size:1.6rem;
  display:flex; align-items:center; justify-content:center; cursor:pointer;
  transition:transform .2s, box-shadow .2s;
}
body.dark .dock-item{background:var(--glass-dark);}
.dock-item:hover{transform:translateY(-6px) scale(1.1); box-shadow:0 4px 12px rgba(0,0,0,0.3);}

.window{
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.8);
  width:90%; max-width:420px; max-height:90vh; overflow:auto;
  padding:1rem; border-radius:20px; opacity:0; pointer-events:none;
  background:var(--glass-light); backdrop-filter:blur(20px) saturate(160%);
  box-shadow:0 8px 20px rgba(0,0,0,0.3); transition:opacity .3s, transform .3s;
  z-index:10;
}
body.dark .window{background:var(--glass-dark);}
.window.open{opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1);}
.window .close{position:absolute; top:.5rem; right:.5rem; border:none; background:none; color:inherit; font-size:1.2rem; cursor:pointer;}

.gallery{display:flex; flex-wrap:wrap; gap:.5rem;}
.gallery img{width:calc(33% - .5rem); border-radius:10px; object-fit:cover;}
@media(max-width:500px){.gallery img{width:100%;}}

#note-area{
  width:100%; height:200px; border:none; border-radius:12px; padding:.5rem;
  background:var(--glass-light); color:inherit;
}
body.dark #note-area{background:var(--glass-dark);}

.player{
  width:90%; max-width:400px; padding:1rem; border-radius:25px;
  background:var(--glass-light); backdrop-filter:blur(16px) saturate(150%);
  box-shadow:0 8px 20px rgba(0,0,0,0.25); text-align:center;
}
body.dark .player{background:var(--glass-dark);}

.cover{
  width:150px; height:150px; margin:0 auto 1rem; border-radius:15px;
  background:var(--accent); overflow:hidden; position:relative;
  display:flex; justify-content:center; align-items:center;
}
.cover img{width:100%; height:100%; object-fit:cover; display:none;}
.cover.placeholder::before{content:"\1F3B5"; font-size:3rem; color:#fff;}
.player.playing .cover img{animation:pulse 2.5s ease-in-out infinite;}
@keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.06);}}

#playlist{list-style:none; padding:0; margin:0 0 1rem; max-height:200px; overflow-y:auto;}
#playlist li{padding:.4rem .6rem; border-radius:12px; cursor:pointer;}
#playlist li.active{background:var(--accent); color:#fff;}

.controls button, .extras button{
  border:none; background:none; color:inherit; font-size:1.4rem; cursor:pointer;
  margin:0 .3rem;
}
.extras{margin-top:.5rem;}
button.active{color:var(--accent);}

input[type=range]{width:100%; margin:.3rem 0;}
.time{display:flex; justify-content:space-between; font-size:.8rem; margin-bottom:.2rem;}

